// Набор уровней Longcat: размеры, стены и старт
// Координаты: x в [0..w-1], y в [0..h-1]
// Поддержка гибкого редактирования: можно задать либо список стен, либо карту символов.
// Символы карты: '#' — стена, '.' — пусто, 'S' — старт кота.

function fromMap(map) {
  const h = map.length;
  const w = map[0]?.length || 0;
  const walls = [];
  let start = null;
  for (let y = 0; y < h; y++) {
    const row = map[y];
    if (row.length !== w) throw new Error('Нерегулярная ширина строк карты уровня');
    for (let x = 0; x < w; x++) {
      const ch = row[x];
      if (ch === '#') walls.push([x, y]);
      else if (ch === 'S') start = [x, y];
    }
  }
  return { w, h, walls, start };
}

// Longcat: 5 уровней по скринам (минимальные размеры + явный периметр)
export const LEVELS = [
  // L1 — 3x3, кот в центре
  (() => {
    return fromMap([
	  '#####',
      '#...#',
      '#.S.#',
      '#...#',
	  '#####'
    ]);
  })(),

  // L2
  (() => {
    return fromMap([
	'######',
	'#...##',
	'#....#',
	'##.S.#',
	'##...#',
	'######'
    ]);
  })(),

  // L3
  (() => {
    return fromMap([
	'######',
	'#....#',
	'#..S.#',
	'#.##.#',
	'#....#',
	'######'
    ]);
  })(),

  // L4
  (() => {
    return fromMap([
	'#######',
	'####..#',
	'##....#',
	'#S.##.#',
	'#..##.#',
	'#.....#',
	'#######'
    ]);
  })(),

  // L5
  (() => {
    return fromMap([
	'#######',
	'##...##',
	'##.#.##',
	'#.....#',
	'#.S.#.#',
	'#.....#',
	'#######'
    ]);
  })(),

  // L6
  (() => {
    return fromMap([
	'#######',
	'###...#',
	'#.....#',
	'#.##.S#',
	'#.##..#',
	'#.....#',
	'#######'
    ]);
  })(),
];

